{% extends 'base.html' %}
{% load gg_json_filter %}

{% block groups_menu_active %}class="active"{% endblock %}

{% block page_main_column %}

    <div>

        <script>


            function ObjectsCtrl($scope){

                $scope.groups = {{ groups | gg_json_filter | safe }};

            }

        </script>

        <div ng-controller="ObjectsCtrl">

            <a class="btn btn-info pull-right" href="add/">Добавить группу</a>
            <!-- Таблица -->
            <table class="table table-stripped table-condensed table-hover">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Номер заявки</th>
                        <th>Дата начала</th>
                        <th>Дата окончания</th>
                        <th>Место встречи</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody ng-cloak>
                    <tr ng-repeat="o in groups">
                        <td>{$ o.id $}</td>
                        <td>{$ o.req_number $}</td>
                        <td>{$ o.date_begin $}</td>
                        <td>{$ o.date_end $}</td>
                        <td>{$ o.place_descr $}</td>
                        <td>
                            <a href="edit/{$ o.id $}/" style="color: black; text-decoration: underline;">
                                редактировать
                            </a>
                        </td>
                    </tr>
                </tbody>
            </table>

        </div>

    </div>

{% endblock %}
